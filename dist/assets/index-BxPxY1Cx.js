(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(n){if(n.ep)return;n.ep=!0;const o=a(n);fetch(n.href,o)}})();const D={tagName:"button",classList:["bg-cyan-600","px-8","py-1","rounded-md","text-white","min-w-[110px]","hover:opacity-75","dark:bg-[#fff]","dark:text-cyan-600"],text:"Add"},S={tagName:"button",classList:["bg-cyan-600","px-8","py-1","rounded-md","text-white","min-w-[110px]","hover:opacity-75","dark:bg-[#fff]","dark:text-cyan-600"],text:"Edit"},T={tagName:"button",classList:["bg-[#CD103E]","px-8","py-1","rounded-md","text-white","min-w-[110px]","hover:opacity-75","dark:bg-[#880000]"],text:"Cancel"},F={tagName:"form",classList:["max-w-[915px]","w-[96%]","bg-white","rounded-md","fixed","bottom-1/2","right-1/2","translate-y-1/2","translate-x-1/2","py-[30px]","px-[36px]","dark:bg-[#036578]"],attr:{id:"form"}},M={tagName:"div",classList:["w-full","bg-[#d9d9d9ac]","dark:bg-[#041a1ed7]","h-screen","fixed","top-0","left-0","fixed","backdrop-blur-sm"]},O={tagName:"div",classList:["flex","justify-between","max-w-[362px]","border-b-2","border-cyan-600","py-1","mb-3","dark:border-white"]},k={tagName:"input",classList:["max-w-[330px]","w-full","block","outline-none","p-1","dark:text-white","dark:placeholder:text-white"],attr:{placeholder:"Title",id:"inputTitle",name:"input-title",value:""}},$={tagName:"label",classList:["cursor-pointer"]},w={tagName:"input",attr:{type:"checkbox",name:"checkBox"},classList:["-z-1","absolute","opacity-0","w-0","h-0"]},q={tagName:"span",classList:["block","w-6","h-6","relative","favoriteButton","bg-[url('/starBlack.svg')]","dark:bg-[url('/starBlack-dark.svg')]","bg-cover","bg-no-repeat"]},L={tagName:"textarea",classList:["w-full","max-h-80","min-h-28","resize-y","outline-none","focus:shadow-md","shadow-black","mb-2","p-1","dark:text-white","dark:placeholder:text-white","dark:shadow-white","scrollbar"],attr:{placeholder:"Your note",id:"textareaModal",name:"message"},text:""},z={classList:["flex","justify-end","gap-3"]},r=t=>{const e=document.createElement(t.tagName),a=t.text,s=t.attr,n=t.classList;return R(e,a),G(e,s),H(e,n),e},R=(t,e)=>{t&&e&&(t.textContent=e)},H=(t,e)=>{t&&e&&t.classList.add(...e)},G=(t,e)=>{if(t&&e)for(const a in e)t.setAttribute(a,e[a])},x=t=>{const e=JSON.stringify(t);localStorage.setItem("notes",e)},i=()=>{const t=localStorage.getItem("notes");return JSON.parse(t)},J=()=>{const t=i();if(t)return t;{const e={regulary:[],favorites:[]};return x(e),e}},d=J(),P=t=>{let e=null;return t?e=`${d.favorites.length}favorite`:e=`${d.regulary.length}regulary`,e},C=t=>{t.favorite?d.favorites.push(t):d.regulary.push(t)},E=()=>new Date().toLocaleString("ru-RU",{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),W=(t,e)=>{const a=y(e);if(a){const s=a.title!==t.title,n=a.text!==t.text;if(a.favorite!==t.favorite||n||s){t.isChange=!0,I(a),t.id=P(t.favorite),t.date=E(),C(t),x(d);return}}},K=t=>{const e=new FormData(t);let a=e.get("input-title"),s=e.get("message"),n=!!e.get("checkBox");a.length<1&&(a="no title"),s.length<1&&(s="empty");const o=t.dataset.noteid,c={title:a,text:s,favorite:e.get("checkBox")};o?W(c,o):(c.id=P(n),c.date=E(),C(c),x(d))},U=(t,e,a)=>{for(let s=e;s<t.length;s++){const c=`${parseInt(t[s].id)-1}${a}`;t[s].id=c}},I=t=>{console.log(t);const[e,a]=t.id.endsWith("favorite")?[d.favorites,"favorite"]:[d.regulary,"regulary"];e.forEach(s=>{if(t.id===s.id){const n=e.indexOf(s);e.splice(n,1),U(e,n,a)}}),x(d)},V=t=>{const e=y(t);e.favorite?e.favorite=null:e.favorite="on",e.isChange=!0,I(e),e.id=P(e.favorite),e.date=E(),C(e),x(d)},y=t=>{const e=t.endsWith("favorite");let a=null;return e&&d.favorites.forEach(s=>{t===s.id&&(a=s)}),e||d.regulary.forEach(s=>{t===s.id&&(a=s)}),a},Y={tagName:"ul",classList:["mx-auto","max-w-[916px]","flex","flex-col","gap-y-4","px-4","max-h-[450px]","overflow-x-auto","scrollbar","w-[96%]"],attr:{id:"listNotes"}},Q={tagName:"li",attr:{"data-note":""}},X={tagName:"article",classList:["border-2","border-cyan-600","px-[7px]","py-[4px]","rounded-lg"],attr:{}},Z={tagName:"div",classList:["flex","justify-between","items-center","flex-wrap"],attr:{}},_={tagName:"div",classList:["flex","gap-x-4","items-center","flex-wrap","mb-2"],attr:{}},j={tagName:"span",classList:["text-xl","text-[#10798D]","dark:text-cyan-600","truncate","block","max-w-[300px]","mb-2"],attr:{"data-title":""}},tt={tagName:"span",classList:["text-sm","text-[#ACACAC]","shrink-0"]},et={tagName:"p",classList:["text-base","text-[#393E3F]","truncate","dark:text-[#fff]"],attr:{"data-text":""}},at={tagName:"div",classList:["flex","gap-x-1.5"]},st={tagName:"button",classList:["bg-[url('/starBlack.svg')]","dark:bg-[url('/starBlack-dark.svg')]","bg-cover","bg-no-repeat","w-6","h-6"],attr:{"data-checkbox":""}},nt={tagName:"button",classList:["bg-[url('/starGold-btn.svg')]","bg-cover","bg-no-repeat","w-6","h-6"],attr:{"data-checkbox":""}},rt={tagName:"button",classList:["bg-[url('/edit-btn.svg')]","dark:bg-[url('/edit-btn-dark.svg')]","bg-cover","bg-no-repeat","w-6","h-6"],attr:{"data-edit":""}},ot={tagName:"button",classList:["bg-[url('/trash-btn.svg')]","dark:bg-[url('/trash-btn-dark.svg')]","bg-cover","bg-no-repeat","w-6","h-6"],attr:{"data-remove":""}},ct=t=>t.map(a=>{const s=r(Q),n=r(X),o=r(Z),c=r(_),g=r(at),b=r(j),h=r(tt),p=r(et);let m;a.favorite?m=r(nt):m=r(st);const v=r(rt),u=r(ot);b.innerText=a.title,p.innerText=a.text;const A=a.isChange?"Changed":"Created";return h.innerText=`${A} ${a.date.slice(0,10)} at ${a.date.slice(12)}`,s.id=a.id,s.append(n),n.append(o),n.append(p),o.append(b),g.append(m),g.append(v),g.append(u),o.append(c),c.append(h,g),s}),l=t=>{let e=document.querySelector("#listNotes");e||(e=r(Y),e.addEventListener("click",n=>it(n)));const a=new DocumentFragment;return ct(t).forEach(n=>{a.prepend(n)}),e.append(a),e},it=t=>{const e=t.target.closest("[data-remove]"),a=t.target.closest("[data-edit]"),s=t.target.closest("[data-checkbox]"),n=t.target.closest("li").id;if(e)I(y(n)),f(),l(i().favorites),l(i().regulary);else if(a){const c=y(n);B(!0,c)}else s&&(V(n),f(),l(i().favorites),l(i().regulary))},f=()=>{document.querySelector("#listNotes").innerHTML=""},B=(t,e={})=>{const a=r(M);document.body.append(a);const s=r(F);document.body.append(s),e.id&&s.setAttribute("data-noteId",e.id);const n=r(O);s.append(n),e.title?k.attr.value=e.title:k.attr.value="";const o=r(k);n.append(o);const c=r($);n.append(c),e.favorite?w.attr.checked="checked":delete w.attr.checked;const g=r(w);c.append(g);const b=r(q);c.append(b),e.text?L.text=e.text:L.text="";const h=r(L);s.append(h);const p=r(z);if(s.append(p),t){const u=r(S);p.append(u)}else{const u=r(D);p.append(u)}const m=r(T);p.append(m);const v=document.querySelector("#inputTitle");v&&v.focus(),s.addEventListener("submit",u=>{u.preventDefault(),K(s),N(s,a),f(),l(i().favorites),l(i().regulary)}),m.addEventListener("click",()=>N(s,a)),a.addEventListener("click",()=>N(s,a))},N=(t,e)=>{t.remove(),e.remove()},dt={tagName:"input",classList:["border-cyan-600","border-2","rounded-lg","px-2","dark:bg-stone-50"],attr:{placeholder:"Search..."}},lt=()=>{const t=r(dt);return t.addEventListener("input",e=>pt(e)),t},pt=t=>{const e=document.querySelectorAll("[data-note]");let a=t.target.value;e.forEach(s=>{const n=s.querySelector("[data-title]").textContent,o=s.querySelector("[data-text]").textContent;n.toLowerCase().includes(a.toLowerCase())||o.toLowerCase().includes(a.toLowerCase())?s.style.display="block":s.style.display="none"})},ut={tagName:"header",classList:["dark:border-white","mx-auto","max-w-[1440px]","border-b-2","border-cyan-700","flex","justify-between","py-4","px-4","items-center"]},gt={tagName:"span",classList:["dark:text-white","font-bold","text-cyan-600","text-xl","capitalize"],text:"to-do"},mt={tagName:"div",classList:["flex","gap-4"]},ft={tagName:"button",classList:["hover:opacity-75","dark:bg-white","flex","justify-center","items-center","w-10","h-10","bg-cyan-600","rounded-full"],attr:{id:"buttonDarkMode"}},xt={tagName:"span",classList:["dark:bg-[url('/moonicon.svg')]","block","w-7","h-7","bg-contain","bg-no-repeat","bg-center","bg-[url('/sun-icon.svg')]"]},bt=()=>{const t=r(ft),e=r(xt);return t.addEventListener("click",ht),t.append(e),t},ht=()=>{document.documentElement.classList.toggle("dark")},vt=()=>{const t=r(ut);t.append(r(gt));const e=r(mt);return e.append(lt()),e.append(bt()),t.append(e),t},yt={tagName:"button",classList:["flex","items-center","gap-2","hover:opacity-75","dark:text-white","capitalize","text-cyan-600","font-bold","min-w-24","mx-auto","mb-[30px]"],attr:{id:"btnAddNote"}},kt={tagName:"span",classList:["text-xl"],text:"add note"},wt={tagName:"span",classList:["dark:bg-[url('/add-note-dark.svg')]","block","w-7","h-7","bg-[url('/add-note.svg')]","bg-contain","bg-no-repeat","bg-center"]},Lt=()=>{const t=r(yt),e=r(kt),a=r(wt);return t.addEventListener("click",Nt),t.append(e),t.append(a),t},Nt=()=>{B(!1)},Pt={tagName:"div",classList:["flex","gap-6","justify-center","pt-12","pb-8","px-4"]},Ct={tagName:"button",classList:["hover:opacity-75","font-bold","dark:bg-skay-400","dark:text-[#fff]","bg-cyan-600","capitalize","xs:min-w-44","min-w-36","py-1","rounded-lg","text-white"],attr:{"data-filter":"all"},text:"all notes"},Et={tagName:"button",classList:["hover:opacity-75","font-bold","dark:bg-sky-400","dark:text-[#fff]","bg-cyan-600","capitalize","xs:min-w-44","min-w-36","py-1","rounded-lg","text-white"],attr:{"data-filter":"favorite"},text:"favorites"},It=()=>{const t=r(Ct),e=r(Et),a=r(Pt);return a.append(t,e),a.addEventListener("click",s=>Bt(s)),a},Bt=t=>{const e=t.target.closest("[data-filter]");if(e)switch(e.dataset.filter){case"favorite":f(),l(i().favorites);break;case"all":f(),l(i().favorites),l(i().regulary);break}},At=()=>{const t=document.body;t.append(vt()),t.append(It()),t.append(Lt()),t.append(l(i().favorites)),t.append(l(i().regulary))};At();
//# sourceMappingURL=index-BxPxY1Cx.js.map
